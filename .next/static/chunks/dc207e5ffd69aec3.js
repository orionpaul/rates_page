(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27086,e=>{"use strict";e.s(["default",()=>l]);var r=e.i(16918),t=e.i(44661);e.i(96295);var a=e.i(54134),s=e.i(77795);function l(){let[e,l]=(0,t.useState)([]),[d,n]=(0,t.useState)(!0),[c,o]=(0,t.useState)(null),[i,x]=(0,t.useState)(!1),[u,m]=(0,t.useState)({code:"",name:"",flagUrl:"",buyRate:0,sellRate:0,order:0});(0,t.useEffect)(()=>{y()},[]);let y=async()=>{n(!0);try{let e=(0,a.query)((0,a.collection)(s.db,"currencies"),(0,a.orderBy)("order","asc")),r=(await (0,a.getDocs)(e)).docs.map(e=>({id:e.id,...e.data()}));l(r)}catch(e){console.error("Error fetching currencies:",e)}finally{n(!1)}},g=async()=>{try{await (0,a.addDoc)((0,a.collection)(s.db,"currencies"),{...u,updatedAt:(0,a.serverTimestamp)()}),b(),y(),x(!1)}catch(e){console.error("Error adding currency:",e)}},p=async e=>{try{await (0,a.updateDoc)((0,a.doc)(s.db,"currencies",e),{...u,updatedAt:(0,a.serverTimestamp)()}),b(),o(null),y()}catch(e){console.error("Error updating currency:",e)}},h=async e=>{if(confirm("Are you sure you want to delete this currency?"))try{await (0,a.deleteDoc)((0,a.doc)(s.db,"currencies",e)),y()}catch(e){console.error("Error deleting currency:",e)}},b=()=>{m({code:"",name:"",flagUrl:"",buyRate:0,sellRate:0,order:0}),o(null)};return d?(0,r.jsx)("div",{children:"Loading..."}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"Manage Exchange Rates"}),(0,r.jsx)("button",{onClick:()=>x(!i),className:"bg-cbz-red text-white px-4 py-2 rounded hover:bg-red-700 transition",children:i?"Cancel":"Add Currency"})]}),i&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Add New Currency"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency Code (e.g., USD)"}),(0,r.jsx)("input",{type:"text",value:u.code,onChange:e=>m({...u,code:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-cbz-red outline-none"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency Name"}),(0,r.jsx)("input",{type:"text",value:u.name,onChange:e=>m({...u,name:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-cbz-red outline-none"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Flag URL"}),(0,r.jsx)("input",{type:"text",value:u.flagUrl,onChange:e=>m({...u,flagUrl:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-cbz-red outline-none",placeholder:"https://..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order"}),(0,r.jsx)("input",{type:"number",value:u.order,onChange:e=>m({...u,order:Number(e.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-cbz-red outline-none"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buy Rate"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:u.buyRate,onChange:e=>m({...u,buyRate:Number(e.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-cbz-red outline-none"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sell Rate"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:u.sellRate,onChange:e=>m({...u,sellRate:Number(e.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-cbz-red outline-none"})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,r.jsx)("button",{onClick:g,className:"bg-cbz-red text-white px-6 py-2 rounded hover:bg-red-700 transition",children:"Add Currency"}),(0,r.jsx)("button",{onClick:()=>{x(!1),b()},className:"bg-gray-300 text-gray-700 px-6 py-2 rounded hover:bg-gray-400 transition",children:"Cancel"})]})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Currency"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Buy Rate"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sell Rate"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>(0,r.jsx)("tr",{children:c===e.id?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("input",{type:"number",value:u.order,onChange:e=>m({...u,order:Number(e.target.value)}),className:"w-20 px-2 py-1 border rounded"})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.code})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("input",{type:"number",step:"0.001",value:u.buyRate,onChange:e=>m({...u,buyRate:Number(e.target.value)}),className:"w-32 px-2 py-1 border rounded"})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("input",{type:"number",step:"0.001",value:u.sellRate,onChange:e=>m({...u,sellRate:Number(e.target.value)}),className:"w-32 px-2 py-1 border rounded"})}),(0,r.jsxs)("td",{className:"px-6 py-4 text-right",children:[(0,r.jsx)("button",{onClick:()=>p(e.id),className:"text-green-600 hover:text-green-900 mr-3",children:"Save"}),(0,r.jsx)("button",{onClick:()=>{b(),o(null)},className:"text-gray-600 hover:text-gray-900",children:"Cancel"})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.order}),(0,r.jsxs)("td",{className:"px-6 py-4",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.code}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.name})]}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.buyRate.toFixed(3)}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.sellRate.toFixed(3)}),(0,r.jsxs)("td",{className:"px-6 py-4 text-right text-sm",children:[(0,r.jsx)("button",{onClick:()=>{o(e.id),m({code:e.code,name:e.name,flagUrl:e.flagUrl,buyRate:e.buyRate,sellRate:e.sellRate,order:e.order})},className:"text-cbz-red hover:text-red-700 mr-3",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>h(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]})},e.id))})]})})]})}}]);